<?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.electronic.dao.smapper.interfaces.DeptElectronicDocMapper">
<resultMap id="BaseResultMap" type="com.electronic.dao.smapper.bo.SDeptElectronicDoc">
    <id column="doc_id" property="docId" jdbcType="INTEGER" />
    <result column="dept_id" property="userId" jdbcType="INTEGER" />
    <result column="doc_name" property="docName" jdbcType="VARCHAR" />
    <result column="doc_url" property="docUrl" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="operate_id" property="operateId" jdbcType="INTEGER" />
    <result column="operate_time" property="operateTime" jdbcType="TIMESTAMP" />
</resultMap>



    <select id="selectByDeptId" resultMap="BaseResultMap"  parameterType="java.lang.Integer">
         SELECT t1.dept_id,t2.* FROM dept_electronic_doc t1 left JOIN electronic_doc t2 ON t1.doc_id = t2.doc_id where 1=1
        <if test="dept_id != null" >
           and t1.dept_id = #{deptId,jdbcType=INTEGER}
        </if>
        <if test="doc_name != null" >
            and t2.doc_name LIKE "%"#{docName}"%"
        </if>
         ORDER BY t1.operate_time DESC
    </select>



</mapper>
